import{r as a,s as A,j as e,t as k,C as B,a as M,u as R,S as q,n as P,W as $,v as _,b as ee,P as te}from"./index-CbeBIUc8.js";import{l as C}from"./leaflet-CVhtmd43.js";import{m as z,g as ne}from"./AdCart-CgK1N6Um.js";import{d as se,g as le}from"./getAd-ihxHOege.js";import{u as T,a as re}from"./updateUserStatus-yb8RbKHN.js";import{g as ae}from"./getUser-DITBCVhv.js";import{s as oe,H as ce,N as ie}from"./Home-vkJi-pza.js";import"./Logo-C0IGYkvB.js";import"./SingleSelected-DeuCgH6Z.js";import"./TextComponent-Cno3bZzp.js";function ue(s,t){const n=a.useRef(t);a.useEffect(function(){t!==n.current&&s.attributionControl!=null&&(n.current!=null&&s.attributionControl.removeAttribution(n.current),t!=null&&s.attributionControl.addAttribution(t)),n.current=t},[s,t])}const fe=1;function de(s){return Object.freeze({__version:fe,map:s})}function xe(s,t){return Object.freeze({...s,...t})}const U=a.createContext(null),I=U.Provider;function O(){const s=a.useContext(U);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function he(s){function t(n,l){const{instance:r,context:o}=s(n).current;return a.useImperativeHandle(l,()=>r),n.children==null?null:A.createElement(I,{value:o},n.children)}return a.forwardRef(t)}function me(s){function t(n,l){const{instance:r}=s(n).current;return a.useImperativeHandle(l,()=>r),null}return a.forwardRef(t)}function ge(s,t){const n=a.useRef();a.useEffect(function(){return t!=null&&s.instance.on(t),n.current=t,function(){n.current!=null&&s.instance.off(n.current),n.current=null}},[s,t])}function F(s,t){const n=s.pane??t.pane;return n?{...s,pane:n}:s}function H(s,t,n){return Object.freeze({instance:s,context:t,container:n})}function V(s,t){return t==null?function(l,r){const o=a.useRef();return o.current||(o.current=s(l,r)),o}:function(l,r){const o=a.useRef();o.current||(o.current=s(l,r));const u=a.useRef(l),{instance:i}=o.current;return a.useEffect(function(){u.current!==l&&(t(i,l,u.current),u.current=l)},[i,l,r]),o}}function pe(s,t){a.useEffect(function(){return(t.layerContainer??t.map).addLayer(s.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(s.instance),t.map.removeLayer(s.instance)}},[t,s])}function X(s){return function(n){const l=O(),r=s(F(n,l),l);return ue(l.map,n.attribution),ge(r.current,n.eventHandlers),pe(r.current,l),r}}function je(s,t){const n=V(s,t),l=X(n);return he(l)}function ve(s,t){const n=V(s,t),l=X(n);return me(l)}function be(s,t,n){const{opacity:l,zIndex:r}=t;l!=null&&l!==n.opacity&&s.setOpacity(l),r!=null&&r!==n.zIndex&&s.setZIndex(r)}function we(){return O().map}function L(){return L=Object.assign||function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=n[l])}return s},L.apply(this,arguments)}function Ce({bounds:s,boundsOptions:t,center:n,children:l,className:r,id:o,placeholder:u,style:i,whenReady:h,zoom:f,...c},d){const[m]=a.useState({className:r,id:o,style:i}),[x,j]=a.useState(null);a.useImperativeHandle(d,()=>(x==null?void 0:x.map)??null,[x]);const v=a.useCallback(w=>{if(w!==null&&x===null){const g=new C.Map(w,c);n!=null&&f!=null?g.setView(n,f):s!=null&&g.fitBounds(s,t),h!=null&&g.whenReady(h),j(de(g))}},[]);a.useEffect(()=>()=>{x==null||x.map.remove()},[x]);const b=x?A.createElement(I,{value:x},l):u??null;return A.createElement("div",L({},m,{ref:v}),b)}const Ne=a.forwardRef(Ce),ye=je(function({position:t,...n},l){const r=new C.Marker(t,n);return H(r,xe(l,{overlayContainer:r}))},function(t,n,l){n.position!==l.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==l.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==l.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==l.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==l.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),Ae=ve(function({url:t,...n},l){const r=new C.TileLayer(t,F(n,l));return H(r,l)},function(t,n,l){be(t,n,l);const{url:r}=n;r!=null&&r!==l.url&&t.setUrl(r)});function Le(){return e.jsx("img",{className:"z-[10000] absolute top-0 right-0 left-0 bottom-0 m-auto drop-shadow-lg",src:k})}function Re({setMovedLat:s,setMovedLon:t}){const n=()=>{navigator.geolocation.getCurrentPosition(l=>{s(l.coords.latitude),t(l.coords.longitude)})};return e.jsx("div",{onClick:n,className:"w-8 h-8 absolute left-[10px] top-[76px] z-[1000] bg-white rounded-md flex items-center justify-center cursor-pointer hover:bg-slate-100",children:e.jsx("img",{className:"w-6 h-6 fill-white",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEwklEQVR4nO1aQY9URRDuKFEOMtVviCf9AcBP0IMJxATwyqw6VesAJl4USNAAK8Iz0/2yCycXFLggcYMc9gB/A8IFjUACSyIIC3fIemBBU29mdt/O9HT3sK9nZpn3JZ1M5r1X3VXdVfV1dQtRoECBAgUKFCjQZ2iJRxXQPDctaUKMEpKIPtOS/su2pIRjYhQQi9p6LXG23QD8Hz8TrxtmReVNHeEnWtI5BXRbSVrsVL7R0meAtxTg2Xo0vpO/FWsVcRnfV4A/aqAH3RR2NQV4X0uKdfmL98RaQSwqb9UlHlCAz15V8U5D0AIbc+hdJCnRx0rSvbwUN8SJuQRwmxhGaKCvtKTn4ZTPxAlJ+8VQBTnAn0Mr3tGATg1FkFSAp/uu/HKQnB6o8lrS/h4C2bwGmlRAW7XEKwb/vsLPlMSpJjv0dAncN8iAt+ixVB8piTXODq1vlcTvDe8u0WF+VwPt9jEEj6HvgTEWtfU+0V5JvDAVVaD9+xMb925Qkq5lZv9q/G7lnY5+oCY14Ix7JeBcX1OkZnJin5WXCuiQTUYsPlqXRNUPVUQf8G9HfxMs02Hs47kr2o3hacB/Hf5uVf5VwEZw9LnAYxOhoZjeOpZ9qL493CEWIRGL+I0mP+8S8PAx+22o/jmeKMCHloD7T1BuUI/Gdzpmv+YjJynjloZf4wVu/LteHt/s860C2mNdBVF1hwgFLemcLd1lU123GdRAl0wBLf0P8GJcxpJNxrTY9zavNMsqPCNCQQHdthhg0kP5P52pE/APlxG0xBOWYHhTBMz9i5aOt1oHDXTJnc+XZnHGJouJjyUFL+bOCZK0hmcqY63o+DIzPCY5Hd+XcYsxjwP9nTaDOyQbP9/ULodlp8VUSZftRsRZVap+movyykxbbYa41k5sTDIU4MElA0H1247nER7JymCZSuL1XsaSS7VZ9bAxaTVmeFkZWuKv7TPf2c/K9Koknc8+Z5m9joMD86oNoIEe9dox09thMABzhuAUVHf631UfF+Blv6w8fefnAtkNlNcKOCzyQFLCMZ8gyMYy7eqY5BhzP+B9M7PEF6YgyLLZmD5BUMN4JRfl80uDeLGHpfvbUKXBFvjQonvHOCUsYHLDJMe9bPGGKZVmoSSdtHz/lwgFBXjWsgLmXVSYjcAkx7y3xxc88y7lB0qFdVTd4Qg6u33ksH9zgGpthrh+YPJ54xgA91rdJ6LtIuR2WBuYW8b6jyehGoXqv7mf6J6WgR4EL5VrRznMxeNX1bcjkPalLBanh5604AhmuV944D2APXPQQt8OUbXEY/aZSIPchE9RlJu7KJpugBxFUfohd0XtnADveqS0GVOJrFEWX97YMMMzRX+OJwrod2c/ku5wdhD9RAK4zedgpHkPaE82RZqWMzO81nNWRgF9qSQ98VD+uYuEBYOW9I3HAJcyBFdyGizOfDTWNOpJT8Vbq+drMaqHoxroJzEcx+N0ahAnw0NxPC5G/YJEFk3/ngtogDsDC3i9XpLSQE9H7pJUFszKUtq8ymtyTG/X1DW5dnCgSo/UAM/woYXromT6DtAvvPPkzZd43TDN+/kuV2X7zuYGhUaNcaUB6oC7xChBc7WZ9/aNlk/1tkCBAgUKFChQQPjjf40kWsLDDj8FAAAAAElFTkSuQmCC"})})}function Pe({lat:s,lon:t,setNewAdStorageValue:n,newAdStorageValue:l,setMovedLat:r,setMovedLon:o,movedLat:u,movedLon:i,setMapMoved:h}){const f=we();a.useEffect(()=>{s&&t&&f.setView([s,t])},[s,t]),f.on("moveend",()=>{r(f.getCenter().lat),o(f.getCenter().lng),h(!!(u&&i))}),a.useEffect(()=>{l&&n({...l,location:{...l==null?void 0:l.location,lat:u,lon:i}})},[u,i]),a.useEffect(()=>{const c=JSON.parse(localStorage.getItem("coordinate")),d=c&&c.lat,m=c&&c.lon;n(x=>({...x,location:{...x.location,lat:d,lon:m}}))},[])}function E({width:s,lat:t,lon:n,page:l,zoom:r,setNewAdStorageValue:o,newAdStorageValue:u}){const[i,h]=a.useState(),[f,c]=a.useState(),[d,m]=a.useState(!1),x=new C.Icon({iconUrl:k,iconSize:[35,35],iconAnchor:[t,n]});return e.jsx("div",{className:`w-full lg:w-[${s}] `,children:e.jsxs(Ne,{className:"w-full h-[300px]",center:[t,n],zoom:r,scrollWheelZoom:!1,children:[e.jsx(Ae,{attribution:'© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),l==="single"&&e.jsx(ye,{position:[t,n],icon:x}),l==="newAd"&&e.jsxs(e.Fragment,{children:[d&&e.jsx(Le,{}),e.jsx(Re,{setMovedLat:h,setMovedLon:c}),e.jsx(Pe,{lat:t,lon:n,setNewAdStorageValue:o,newAdStorageValue:u,setMovedLat:h,setMovedLon:c,movedLat:i,movedLon:f,setMapMoved:m})]})]})})}function S(){const{category:s,title:t}=a.useContext(p);return e.jsxs("div",{className:"w-auto h-auto flex gap-2 pt-2 lg:pt-6 pb-6 absolute  right-[22px] lg:right-[45px] lg:static ",children:[e.jsx("ul",{className:"w-auto flex gap-2 items-center justify-start",children:s!==void 0&&s.map(n=>e.jsx(Ee,{breadItem:n},n.id))}),t!==void 0&&e.jsx("p",{className:"text-[0.8rem] text-gray-400",children:t})]})}function Ee({breadItem:s}){return e.jsx("li",{className:"w-auto h-full flex items-center justify-center",children:e.jsxs("a",{href:"",className:"w-full h-full outline-none flex gap-1 items-center cursor-pointer",children:[e.jsx("p",{className:"text-[0.8rem] text-black",children:s.name}),e.jsx(B,{color:"#000000",size:"size-4"})]})})}const Se=async s=>{const t="http://127.0.0.1:3000";try{return await M.get(`${t}/api/users/saved/${s}`,{withCredentials:!0})}catch(n){return n}};z.loadPersian({usePersianDigits:!0});function ke(){var f;const{_id:s,title:t,location:n,cost:l,createAt:r,setSaved:o,saved:u}=a.useContext(p),i=R(),h=()=>{o(!u),(async()=>{var m;((m=(await Se(s)).response)==null?void 0:m.data.status)==="fail"&&P("/login","",i)})()};return console.log(r),e.jsxs("div",{className:"w-full flex flex-col gap-6 items-center p-5  border-b-[1px]",children:[e.jsxs("div",{className:"w-full flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t}),e.jsx("div",{onClick:h,className:"w-auto h-auto transition-all  cursor-pointer flex items-center justify-center",children:e.jsx(q,{color:"#000000",fill:u?"#000000":"none",size:"size-6"})})]}),e.jsxs("div",{className:"w-full flex flex-row-reverse justify-between items-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:z(r).locale("fa").fromNow()+" در "+((f=n[1])==null?void 0:f.name)}),l.length>0&&l.map((c,d)=>e.jsxs("p",{className:"text-md",children:[c.label,":"," ",c.name.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")," ","تومان"]},d))]})]})}function Be(){return e.jsxs("div",{className:"w-full flex justify-between items-center p-5 border-b-[1px] cursor-pointer",children:[e.jsxs("div",{className:" flex gap-5",children:[e.jsx($,{color:"#6a6a6a"}),e.jsx("p",{className:"text-sm",children:"زنگ خطر های قبل از معامله"})]}),e.jsx(B,{color:"#000000",size:"size-5"})]})}function Me(){const{_id:s,adCreator:t,chat:n,phone:l,userId:r,setSaved:o}=a.useContext(p),u=R(),[i,h]=a.useState(),f=a.useRef(),c="http://127.0.0.1:3000",{data:d}=T({queryKey:["user"],queryFn:ae});a.useEffect(()=>{(async()=>{const v=await fetch(`${c}/api/users/${t._id}`);h(v.status);const b=await M.get(`${c}/api/users/me`,{withCredentials:!0});b&&b.data.data.savedAd.includes(s)&&o(!0)})()},[]);const m=()=>{console.dir(f),f.current.innerText="0"+l},x=()=>{P(`/dashboard/messages/${s}`,null,u)};return e.jsxs("div",{className:"w-full flex flex-col gap-5 items-center border-b-[1px] p-4",children:[e.jsxs("div",{className:"w-full flex  gap-3 items-center  p-2",children:[e.jsx("a",{className:"w-16 h-16 rounded-full overflow-hidden cursor-pointer",children:e.jsx("img",{src:i&&i!==404&&t.photho?`${c}/api/users/${t._id}`:se,className:"w-full h-full object-cover"})}),e.jsx("p",{className:"text-sm",children:t==null?void 0:t.name})]}),d!==void 0&&d._id!==r&&e.jsxs("div",{className:"w-full flex gap-3",children:[e.jsx("p",{ref:f,onClick:m,className:"w-full  p-5 hover:opacity-[0.7] text-center leading-3 rounded-full bg-[#84105C] text-sm text-white cursor-pointer",children:"اطلاعات تماس"}),n&&e.jsx("p",{onClick:x,className:"w-full  p-5 hover:opacity-[0.7] text-center leading-3 rounded-full border border-[#84105C] bg-pink-50  text-sm text-[#84105C] cursor-pointer",children:"چت"})]})]})}function ze(){const{attribute:s}=a.useContext(p);return e.jsx("div",{className:"w-full flex flex-col gap-5 items-center ",children:e.jsx("ul",{className:"w-full grid grid-cols-3 md:grid-cols-4 gap-2  py-5 border-b",children:s.map((t,n)=>{if(t.label!=="قیمت (تومان)"&&t.label!=="رهن (تومان)"&&t.label!=="اجاره (تومان)")return e.jsxs("li",{className:" rounded-3xl shadow-sm bg-[#f5f5f5]  flex flex-col gap-3 justify-center items-center p-4 border-b-[1px]",children:[e.jsx("p",{className:"text-[0.8rem] text-gray-500",children:t.label}),e.jsx("p",{className:"text-[0.8rem]",children:t.name})]},n)})})})}function Te(){const{description:s}=a.useContext(p);return e.jsxs("div",{className:"w-full flex flex-col gap-5 border-b-[1px] p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"توضیحات آگهی"}),e.jsx("p",{className:"text-sm",children:s})]})}function Ue(){return e.jsxs("div",{className:"w-full lg:w-[55%] h-auto flex flex-col",children:[e.jsx(ke,{}),e.jsx(Be,{}),e.jsx(Me,{}),e.jsx(ze,{}),e.jsx(Te,{})]})}function Ie({thumbnailParentRef:s,partScreen:t}){const{_id:n,photo:l,photoParantRef:r,setCounter:o,setPhotoFullScreen:u,visibleThumbnailNumber:i}=a.useContext(p),h="http://127.0.0.1:3000",f=(c,d)=>{d==i&&(o(d),u(!0));const m=c.target.closest(".thumbnail-li").children[0].src;if(r.current){const x=r.current.children;for(let j=0;j<x.length;j++)x[j].children[0].src===m&&o(j)}};return e.jsx("ul",{ref:s,className:`${t?"hidden h-16":"flex h-full"} lg:flex w-auto   gap-2  ${!t&&"justify-center"}`,children:l!==void 0&&l.map((c,d)=>{if(!(d>i&&t))return e.jsxs("li",{onClick:m=>{f(m,d)},className:`thumbnail-li ${t?"w-20":"min-w-[130px]"} h-full rounded-xl overflow-hidden relative flex items-center justify-center`,children:[e.jsx("img",{className:"w-full h-full cursor-pointer object-cover brightness-0 transition-all",src:`${h}/img/${n}/${c.name}`,alt:""}),t&&d==i&&e.jsxs("p",{className:"text-white text-xl z-50 absolute cursor-pointer",children:[l.length-i,"+"]})]},c.id)})})}function J({partScreen:s}){const{counter:t}=a.useContext(p),n=a.useRef();return a.useEffect(()=>{if(n.current){const l=n.current.children;for(let r=0;r<l.length;r++)r==t?l[r].children[0].style.filter="brightness(1)":l[r].children[0].style.filter="brightness(0.5)"}},[t]),e.jsx(Ie,{partScreen:s,thumbnailParentRef:n})}function Oe({handlePrevMovment:s}){return e.jsx("div",{onClick:s,"name-btn":"prev",className:"btn-parent w-8 h-8 flex items-center justify-center rounded-full bg-[#454545a5] absolute right-2 top-1/2 cursor-pointer hover:opacity-[0.7]",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",className:"size-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})})})}function Fe({handleNextMovment:s}){return e.jsx("div",{onClick:s,"name-btn":"next",className:"btn-parent w-8 h-8 flex items-center justify-center rounded-full bg-[#454545a5] absolute left-2 top-1/2 cursor-pointer hover:opacity-[0.7] z-50",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",className:"size-5 ",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})})})}function He({phothoWidth:s,partScreen:t}){const{setCounter:n,setPhotoFullScreen:l,photoParantRef:r,photo:o,_id:u,counter:i}=a.useContext(p),h="http://127.0.0.1:3000",f=c=>{n(c),l(!0)};return e.jsx("ul",{ref:r,className:`${t?"h-[350px]":"h-[480px]"} flex  transition-all`,children:o[0]&&o.map((c,d)=>e.jsx("li",{id:"1",style:{width:`${s}px`,transform:`translate3d(${s*i}px,0px,0px)`,transition:"all 0.3s ease-in-out"},className:` h-full cursor-auto ${t&&"rounded-xl"} overflow-hidden flex items-center justify-center`,children:e.jsx("img",{onClick:()=>{f(d)},className:`${t?"w-full":"sm:w-auto w-full"} h-full object-cover`,src:`${h}/img/${u}/${c.name}`,alt:""})},c.id))})}function D({photoGrandParentRef:s,partScreen:t}){const{photo:n,counter:l,setCounter:r}=a.useContext(p),[o,u]=a.useState(0),[i,h]=a.useState(!1),[f,c]=a.useState(!1);setInterval(()=>{s.current&&u(s.current.clientWidth)},100),a.useEffect(()=>{n.length==1||l==n.length-1?c(!1):c(!0),l!=0?h(!0):h(!1)},[l]);const d=()=>{f&&r(l+1)},m=()=>{i&&r(l-1)};return e.jsxs("div",{className:"relative flex items-center ",children:[f&&e.jsx(Fe,{handleNextMovment:d}),o>0&&e.jsx(He,{phothoWidth:o,partScreen:t}),i&&e.jsx(Oe,{handlePrevMovment:m})]})}function Ve({partScreen:s}){const t=a.useRef();return e.jsx("div",{className:"w-full flex lg:items-start items-center",children:e.jsx("div",{ref:t,className:"w-full lg:w-[87%] ",children:e.jsxs("div",{className:"flex flex-col  gap-3 overflow-hidden ",children:[e.jsx(D,{partScreen:s,photoGrandParentRef:t}),e.jsx(J,{partScreen:s})]})})})}function Xe(){const{photoFullScreen:s,setPhotoFullScreen:t,counter:n,setCounter:l}=a.useContext(p),r=a.useRef(),o=a.useRef(),u=()=>{n>4&&l(4),t(!1)},i=()=>{oe(document.querySelectorAll(".thumbnail-grand-parent"))};return e.jsx(e.Fragment,{children:s&&e.jsxs("div",{className:"w-full h-full flex items-center justify-center fixed top-0 right-0 z-[10000] bg-[#2222228a]",children:[e.jsx("div",{className:"btn-parent w-8 h-8 flex items-center justify-center rounded-full bg-[#454545a5] absolute left-6 top-6 cursor-pointer hover:opacity-[0.7] z-50",children:e.jsx(_,{handleClosing:u,color:"#ffffff",size:"size-5"})}),e.jsx("div",{className:"w-full  flex lg:items-center h-full items-center",children:e.jsx("div",{ref:o,className:"w-full h-[85%] absolute bottom-7",children:e.jsxs("div",{className:"flex flex-col  gap-3 overflow-hidden h-full justify-between",children:[e.jsx(D,{photoGrandParentRef:o}),e.jsx("div",{onClick:i,className:`w-[98%] ${s?"md:w-[50%]":"md:w-full"} h-[100px]  rounded-xl absolute bottom-0 self-center z-[100000]`,children:e.jsx("div",{ref:r,className:"thumbnail-grand-parent w-full h-full flex items-start justify-start sm:justify-center overflow-x-scroll ul-box",children:e.jsx(J,{})})})]})})})]})})}const p=a.createContext();function et(){re();const t=ee().id,{data:n,error:l,isLoading:r}=T({queryKey:["ad",t],queryFn:()=>le(t)});return l&&console.log(l),e.jsxs(e.Fragment,{children:[r&&e.jsx(te,{}),n&&[n.data].map(o=>e.jsx(Je,{singleAd:o,adCreator:n.adCreator},o._id))]})}function Je({singleAd:s,adCreator:t}){const n=a.useRef(),[l,r]=a.useState(0),o=4,u=R(),[i,h]=a.useState(),[f,c]=a.useState(!1),[d,m]=a.useState([]),{attribute:x,category:j,createAt:v,description:b,location:w,coordinate:g,photo:N,phone:W,title:y,chat:G,userId:Q,_id:Y}=s;a.useEffect(()=>{document.title=y,ne(x,K=>{m(K)})},[]);const Z=()=>{P(localStorage.getItem("last-url-pathname"),localStorage.getItem("last-url-search"),u)};return e.jsxs(p.Provider,{value:{adCreator:t,category:j,title:y,photo:N,visibleThumbnailNumber:o,photoFullScreen:f,setPhotoFullScreen:c,setCounter:r,counter:l,photoParantRef:n,attribute:x,description:b,location:w,createAt:v,cost:d,_id:Y,saved:i,setSaved:h,chat:G,phone:W,userId:Q},children:[e.jsxs("div",{className:"w-full p-3 lg:w-[80%]  flex flex-col justify-between relative pb-24",children:[e.jsxs("div",{className:"w-full p-3 flex gap-3 items-center lg:hidden",children:[e.jsx("button",{onClick:Z,className:"flex xl:hidden p-2 bg-[#efeaea57] rounded-md  items-center justify-center outline-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#b1b1b1",className:"size-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})})}),e.jsx("h6",{children:y})]}),e.jsx("div",{className:"hidden lg:block lg:w-full",children:e.jsx(ce,{})}),e.jsx("div",{className:"hidden lg:block ",children:e.jsx(S,{})}),e.jsxs("div",{className:"w-full mt-1 flex flex-col lg:flex-row justify-between items-start gap-14 lg:gap-0",children:[e.jsxs("div",{className:"w-full  lg:w-[45%]  h-auto flex flex-col gap-6 lg:items-start items-center",children:[N[0]&&e.jsx(Ve,{partScreen:!0}),e.jsx("div",{className:"w-full lg:hidden",children:e.jsx(S,{})}),e.jsx("div",{className:"hidden lg:block lg:w-full",children:g&&e.jsx(E,{width:"87%",lat:g.lat,lon:g.lon,page:"single",zoom:16})})]}),e.jsx(Ue,{}),e.jsx("div",{className:"w-full lg:hidden self-center",children:g&&e.jsx(E,{width:"87%",lat:g.lat,lon:g.lon,page:"single",zoom:16})})]})]}),N[0]&&e.jsx(Xe,{}),e.jsx(ie,{})]})}export{Je as SingleAdDetails,p as SingleContext,et as default};
