import{r as h,j as p,y as z,u as N,c as Z,n as D,J as O,o as q,K as I,M as K,C as M}from"./index-Dqs9VKQ8.js";function J(){const{validation:t,label:n,subFiled:s}=h.useContext(E);return p.jsx(p.Fragment,{children:(()=>{var o,e;return t&&((o=t[n])!=null&&o.error)?p.jsx("p",{className:"text-[12px] text-[#fc3b3b] ",children:(e=t[n])==null?void 0:e.error}):p.jsx("p",{className:"text-[12px] text-[#e4aac5] ",children:s})})()})}/*! js-cookie v3.0.5 | MIT */function F(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var o in s)t[o]=s[o]}return t}var W={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function B(t,n){function s(e,i,r){if(!(typeof document>"u")){r=F({},n,r),typeof r.expires=="number"&&(r.expires=new Date(Date.now()+r.expires*864e5)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in r)r[l]&&(a+="; "+l,r[l]!==!0&&(a+="="+r[l].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+a}}function o(e){if(!(typeof document>"u"||arguments.length&&!e)){for(var i=document.cookie?document.cookie.split("; "):[],r={},a=0;a<i.length;a++){var l=i[a].split("="),u=l.slice(1).join("=");try{var c=decodeURIComponent(l[0]);if(r[c]=t.read(u,c),e===c)break}catch{}}return e?r[e]:r}}return Object.create({set:s,get:o,remove:function(e,i){s(e,"",F({},i,{expires:-1}))},withAttributes:function(e){return B(this.converter,F({},this.attributes,e))},withConverter:function(e){return B(F({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}var R=B(W,{path:"/"});function L(t,n,s,o){const e="لطفا این قسمت را تکمیل کنید";o?s&&s[`${n}`]&&delete s[`${n}`]:t(i=>({...i,[n]:{error:e}}))}function _(t,n,s,o,e){const i="لطفا حداقل 10 حرف وارد کنید",r="لطفا حداقل 20 حرف وارد کنید";e==="long"?s&&s.length<20&&t({...o,[n]:{error:r}}):s&&s.length<10&&t({...o,[n]:{error:i}})}function G(t,n,s,o,e){const i="لطفا این قسمت را تکمیل کنید",r="لطفا ایمیل صحیح وارد کنید",a=" رمز عبور باید دارای حداقل 8 حرف شامل حرف بزرگ، حرف کوچک و اعداد باشد",l="تکرار رمز عبور صحیح نمی باشد",u=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,c=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/;s||t(d=>({...d,[n]:{error:i}})),s&&e==="email"&&!u.test(s)?t({...o,[n]:{error:r}}):o&&o[`${n}`]&&delete o[`${n}`],s&&e=="password"&&!c.test(s)?t({...o,[n]:{error:a}}):o&&o[`${n}`]&&delete o[`${n}`],s&&e==="password-confirm"?s!==R.get("user-pass")&&t({...o,[n]:{error:l}}):o&&o[`${n}`]&&delete o[`${n}`]}function H(){var T,v;const{label:t,valueType:n,inputRefs:s,index:o,storagePram:e,filedType:i,newAdStorageValue:r,fieldVal:a,filterValue:l,type:u,setValidation:c,validation:d,queryKey:$,textLength:j,setInputShow:S,setInputVal:C,setFilterValue:U,itemId:A}=h.useContext(E),m=z(),g=new URLSearchParams(m.search),y=N(),w=Z(),P=f=>{var V;const x=f.value;u==="password"&&(R.get("user-pass")&&R.remove("user-pass"),R.set("user-pass",x)),(u==="email"||u==="password"||u==="password-confirm"||u==="name")&&G(b=>{c(b)},t,x,d,u),u==="filter"&&(x!==""?(g.set($,x),D(m.pathname,g,y)):g.delete($),D(m.pathname,g,y)),c&&r&&((!r[e]||e==="attributr"&&r.attribute)&&L(b=>{c(b)},t,d,(V=r==null?void 0:r.attribute[o])!=null&&V.name?r[e]:""),j!==void 0&&_(b=>{c(b)},t,x,d,j)),S("")},k=f=>{const x=f.value;if(f.value!==void 0&&C(f.value),u==="filter"&&U(x),u==="newAd")switch(c&&L(V=>{c(V)},t,d,x),e!==void 0){case e==="title":w(K({formInputVal:x}));break;case e==="description":w(I({formInputVal:x}));break;case e==="attribute":w(q({filedType:i,formInputVal:x,itemId:A}));break;case e==="phone":w(O({formInputVal:x}));break}};return p.jsx("input",{"data-label":t,type:n,ref:f=>{s&&(s.current[o]=f)},name:e,onChange:f=>i==="text"&&k(f.currentTarget),className:`w-full bg-transparent outline-none text-sm text-gray-500 h-12 ${i!=="text"&&"cursor-pointer"}`,onBlur:f=>i==="text"&&P(f.currentTarget),value:r!=null&&r.active?typeof r[e]=="object"?((T=r[e])==null?void 0:T.name)||((v=r[e][o])==null?void 0:v.name):r[e]:a!==void 0?a:l})}function Q(){var c,d;const{inputShow:t,label:n,filterValue:s,inputVal:o,newAdStorageValue:e,storagePram:i,index:r,fieldVal:a,defaultItem:l,type:u}=h.useContext(E);return p.jsx("p",{className:`w-full text-md transition-all absolute bottom-3 ${(t!==void 0&&t===n||u==="filter"&&a||s||o||l||e&&(typeof e[i]=="object"?((c=e[i])==null?void 0:c.name)||((d=e[i][r])==null?void 0:d.name):e[i]))&&"mb-8 text-sm"}  ${t===n&&" text-[#e4aac5]"} `,children:n})}const E=h.createContext();function Y({inputRefs:t,index:n,label:s,newAdStorageValue:o,storagePram:e,textLength:i,subFiled:r,filedType:a,setOpenList:l,setValidation:u,validation:c,fieldVal:d,valueType:$,type:j,queryKey:S,searchItem:C,itemId:U,defaultItem:A}){var v;const[m,g]=h.useState(),[y,w]=h.useState(),[P,k]=h.useState(),T=f=>{a==="text"?(f.children[0].children[1].focus(),g(s)):l("opacity-100 visible")};return h.useMemo(()=>{j==="filter"&&C&&w(C)},[C]),p.jsx(E.Provider,{value:{inputShow:m,label:s,filterValue:y,fieldVal:d,inputVal:P,newAdStorageValue:o,storagePram:e,subFiled:r,valueType:$,defaultItem:A,inputRefs:t,index:n,filedType:a,type:j,setValidation:u,validation:c,queryKey:S,textLength:i,setInputShow:g,setInputVal:k,setFilterValue:w,itemId:U},children:p.jsxs("div",{className:"w-full flex flex-col gap-3 items-start  cursor-pointer",children:[p.jsxs("div",{onClick:f=>T(f.currentTarget),className:`w-full  border-b flex justify-between items-center relative ${m!==void 0&&m===s&&"border-[#e4aac5]"} ${c&&((v=c[`${s}`])==null?void 0:v.error)&&"border-[#fc3b3b]"}`,children:[p.jsxs("div",{className:"w-full h-auto flex flex-col ",children:[p.jsx(Q,{}),p.jsx(H,{})]}),a!=="text"&&p.jsx(M,{color:"#000000",size:"size-4",strokeWidth:2.4})]}),p.jsx(J,{})]})})}export{Y as T,G as a,R as b,L as c};
